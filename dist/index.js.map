{"version":3,"file":"index.js","mappings":"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","sources":["webpack://caridad-ui/./src/components/contact-form/c-contact-form.js","webpack://caridad-ui/./src/components/footer/c-footer.js","webpack://caridad-ui/./src/components/header/c-header.js","webpack://caridad-ui/./src/components/hero/c-hero.js","webpack://caridad-ui/./src/components/section/c-section.js"],"sourcesContent":["// 1. Estilos compartidos optimizados (Constructable Stylesheets)\r\nconst sheet = new CSSStyleSheet();\r\nsheet.replaceSync(`\r\n  :host {\r\n    display: block;\r\n    --_bg: var(--color-surface, #ffffff);\r\n    --_radius: var(--radius-lg, 8px);\r\n    --_shadow: var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1));\r\n    --_spacing: var(--space-6, 1.5rem);\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  /* Contenedor principal actúa como el form visual */\r\n  .form-container {\r\n    background: var(--_bg);\r\n    border-radius: var(--_radius);\r\n    box-shadow: var(--_shadow);\r\n    padding: var(--_spacing);\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: var(--space-5, 1rem);\r\n  }\r\n\r\n  /* Grid layout para campos agrupados */\r\n  .grid-row {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n    gap: var(--space-5, 1rem);\r\n  }\r\n\r\n  /* Mensajes de estado (Alertas) */\r\n  .status-msg {\r\n    padding: 0.75rem;\r\n    border-radius: 4px;\r\n    font-size: 0.875rem;\r\n    display: none; /* Oculto por defecto */\r\n    animation: fadeIn 0.3s ease;\r\n  }\r\n\r\n  @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }\r\n\r\n  /* Estados controlados por atributo del host */\r\n  :host([state=\"success\"]) .status-msg.success { display: block; }\r\n  :host([state=\"error\"]) .status-msg.error { display: block; }\r\n  \r\n  /* Loading state: Deshabilitar interacción visualmente */\r\n  :host([state=\"loading\"]) .form-container { opacity: 0.7; pointer-events: none; }\r\n\r\n  .status-msg.success {\r\n    background-color: #ecfdf5;\r\n    color: #047857;\r\n    border: 1px solid #a7f3d0;\r\n  }\r\n\r\n  .status-msg.error {\r\n    background-color: #fef2f2;\r\n    color: #b91c1c;\r\n    border: 1px solid #fca5a5;\r\n  }\r\n\r\n  .actions {\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`);\r\n\r\nconst template = document.createElement('template');\r\ntemplate.innerHTML = `\r\n  <div class=\"form-container\" part=\"container\">\r\n    <div aria-live=\"polite\" aria-atomic=\"true\">\r\n      <div class=\"status-msg success\" part=\"msg-success\">¡Enviado correctamente!</div>\r\n      <div class=\"status-msg error\" part=\"msg-error\">Error al enviar. Verifica los datos.</div>\r\n    </div>\r\n\r\n    <form id=\"internal-form\" novalidate>\r\n      <div class=\"grid-row\">\r\n        <slot name=\"name\"></slot>\r\n        <slot name=\"email\"></slot>\r\n      </div>\r\n      <slot name=\"subject\"></slot>\r\n      <slot name=\"message\"></slot>\r\n      <slot></slot> <div class=\"actions\">\r\n        <slot name=\"submit\">\r\n          <button type=\"submit\">Enviar</button>\r\n        </slot>\r\n      </div>\r\n    </form>\r\n  </div>\r\n`;\r\n\r\nexport class CContactForm extends HTMLElement {\r\n  static get observedAttributes() {\r\n    return ['state'];\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n    this.shadowRoot.adoptedStyleSheets = [sheet];\r\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n\r\n    this._form = this.shadowRoot.getElementById('internal-form');\r\n    this._handleSubmit = this._handleSubmit.bind(this);\r\n  }\r\n\r\n  connectedCallback() {\r\n    this._form.addEventListener('submit', this._handleSubmit);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this._form.removeEventListener('submit', this._handleSubmit);\r\n  }\r\n\r\n  // API Pública: Estado\r\n  get state() { return this.getAttribute('state') || 'idle'; }\r\n  set state(val) {\r\n    if (val) this.setAttribute('state', val);\r\n    else this.removeAttribute('state');\r\n  }\r\n\r\n  /**\r\n   * Recolecta datos de los inputs en el Light DOM (slots)\r\n   */\r\n  get value() {\r\n    const data = {};\r\n    // Buscamos inputs, selects y textareas dentro del host (Light DOM)\r\n    const inputs = this.querySelectorAll('input, textarea, select');\r\n\r\n    inputs.forEach(input => {\r\n      if (input.name && !input.disabled) {\r\n        if (input.type === 'checkbox' || input.type === 'radio') {\r\n          if (input.checked) data[input.name] = input.value;\r\n        } else {\r\n          data[input.name] = input.value;\r\n        }\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Resetea el formulario y el estado\r\n   */\r\n  reset() {\r\n    this.removeAttribute('state');\r\n    const inputs = this.querySelectorAll('input, textarea, select');\r\n    inputs.forEach(input => input.value = ''); // Reset manual simple\r\n  }\r\n\r\n  _handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.state === 'loading') return;\r\n\r\n    // 1. Validación de inputs en Light DOM\r\n    const inputs = this.querySelectorAll('input, textarea, select');\r\n    let isValid = true;\r\n\r\n    // Usar la validación nativa del navegador en cada input distribuido\r\n    inputs.forEach(input => {\r\n      if (!input.checkValidity()) {\r\n        isValid = false;\r\n        input.reportValidity(); // Muestra el popup nativo en el input correcto\r\n      }\r\n    });\r\n\r\n    if (!isValid) {\r\n      // Opcional: Podríamos poner state=\"error\" aquí, pero el navegador ya mostró feedback\r\n      return;\r\n    }\r\n\r\n    // 2. Transición a Loading\r\n    this.state = 'loading';\r\n\r\n    // 3. Emitir evento con los datos\r\n    this.dispatchEvent(new CustomEvent('c-submit', {\r\n      detail: {\r\n        data: this.value,\r\n        // Callbacks para que el padre controle el UI del componente\r\n        success: () => {\r\n          this.state = 'success';\r\n          setTimeout(() => this.reset(), 3000); // Auto-reset opcional\r\n        },\r\n        error: (msg) => {\r\n          this.state = 'error';\r\n          if (msg) {\r\n            // Lógica avanzada: inyectar mensaje de error específico si fuera necesario\r\n            const errDiv = this.shadowRoot.querySelector('.status-msg.error');\r\n            if (errDiv) errDiv.textContent = msg;\r\n          }\r\n        }\r\n      },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n  }\r\n}\r\n\r\ncustomElements.define('c-contact-form', CContactForm);","/**\r\n * @element c-footer\r\n * @description Pie de página accesible y configurable\r\n * @slot logo - Logo o marca del sitio\r\n * @slot about - Información \"Acerca de\"\r\n * @slot links - Enlaces de navegación\r\n * @slot social - Enlaces a redes sociales\r\n * @slot copyright - Información de copyright\r\n * \r\n * @attr {string} variant - Variante visual (default | minimal)\r\n * @attr {boolean} condensed - Modo compacto para móviles\r\n * @attr {string} year - Año de copyright automático\r\n * \r\n * @csspart footer - Contenedor principal del footer\r\n * @csspart container - Contenedor con ancho máximo\r\n * @csspart content - Área de contenido principal\r\n * @csspart section - Cada sección del footer\r\n * @csspart bottom - Área inferior con copyright\r\n * \r\n * @event footer-ready - Se dispara cuando el componente está listo\r\n * @event link-click - Se dispara cuando se hace clic en un enlace slotado\r\n */\r\nexport class CFooter extends HTMLElement {\r\n  static get observedAttributes() {\r\n    return ['variant', 'condensed', 'year'];\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    // Shadow DOM con delegate focus para mejor accesibilidad\r\n    this.attachShadow({\r\n      mode: 'open',\r\n      delegatesFocus: true\r\n    });\r\n\r\n    this._styles = this._createStyles();\r\n    this._template = this._createTemplate();\r\n\r\n    // Estado interno\r\n    this._isCondensed = false;\r\n    this._variant = 'default';\r\n    this._currentYear = new Date().getFullYear();\r\n\r\n    // Bind handlers\r\n    this._handleSlotChange = this._handleSlotChange.bind(this);\r\n    this._handleLinkClick = this._handleLinkClick.bind(this);\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.shadowRoot.appendChild(this._styles.cloneNode(true));\r\n    this.shadowRoot.appendChild(this._template.content.cloneNode(true));\r\n\r\n    // Referencias a elementos importantes\r\n    this._footer = this.shadowRoot.querySelector('footer');\r\n    this._copyrightSlot = this.shadowRoot.querySelector('slot[name=\"copyright\"]');\r\n    this._linkSlots = this.shadowRoot.querySelectorAll('slot[name=\"links\"], slot[name=\"social\"]');\r\n\r\n    // Configurar listeners\r\n    this._setupEventListeners();\r\n\r\n    // Aplicar atributos iniciales\r\n    this._updateFromAttributes();\r\n\r\n    // Disparar evento de ready\r\n    this.dispatchEvent(new CustomEvent('footer-ready', {\r\n      bubbles: true,\r\n      detail: { component: this }\r\n    }));\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this._cleanupEventListeners();\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (oldValue === newValue) return;\r\n\r\n    switch (name) {\r\n      case 'variant':\r\n        this._variant = newValue || 'default';\r\n        this._updateVariant();\r\n        break;\r\n      case 'condensed':\r\n        this._isCondensed = newValue !== null;\r\n        this._updateLayout();\r\n        break;\r\n      case 'year':\r\n        this._updateCopyright();\r\n        break;\r\n    }\r\n  }\r\n\r\n  // Propiedades públicas\r\n  get variant() {\r\n    return this._variant;\r\n  }\r\n\r\n  set variant(value) {\r\n    this.setAttribute('variant', value);\r\n  }\r\n\r\n  get condensed() {\r\n    return this._isCondensed;\r\n  }\r\n\r\n  set condensed(value) {\r\n    if (value) {\r\n      this.setAttribute('condensed', '');\r\n    } else {\r\n      this.removeAttribute('condensed');\r\n    }\r\n  }\r\n\r\n  get year() {\r\n    return this.getAttribute('year') || this._currentYear.toString();\r\n  }\r\n\r\n  set year(value) {\r\n    this.setAttribute('year', value);\r\n  }\r\n\r\n  // Métodos privados\r\n  _createStyles() {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      :host {\r\n        display: block;\r\n        font-family: var(--font-sans, system-ui, -apple-system, sans-serif);\r\n        color: var(--color-text, #333);\r\n        --footer-bg: var(--color-bg, #fff);\r\n        --footer-text: var(--color-text, #333);\r\n        --footer-text-muted: var(--color-text-muted, #666);\r\n        --footer-border: var(--color-border, rgba(0, 0, 0, 0.1));\r\n        --space-2: 0.5rem;\r\n        --space-4: 1rem;\r\n        --space-6: 1.5rem;\r\n        --space-7: 2rem;\r\n        --font-size-sm: 0.875rem;\r\n        --font-size-xl: 1.5rem;\r\n        --line-height-normal: 1.5;\r\n        --motion-fast: 150ms ease;\r\n      }\r\n\r\n      :host([variant=\"minimal\"]) {\r\n        --footer-bg: transparent;\r\n        --footer-border: transparent;\r\n      }\r\n\r\n      footer {\r\n        background: var(--footer-bg);\r\n        color: var(--footer-text);\r\n        padding: var(--space-7) var(--space-6) var(--space-6);\r\n      }\r\n\r\n      .container {\r\n        max-width: 1200px;\r\n        margin: 0 auto;\r\n        box-sizing: border-box;\r\n      }\r\n\r\n      .footer-content {\r\n        display: grid;\r\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n        gap: var(--space-7);\r\n        margin-bottom: var(--space-7);\r\n      }\r\n\r\n      :host([condensed]) .footer-content {\r\n        gap: var(--space-4);\r\n        margin-bottom: var(--space-4);\r\n      }\r\n\r\n      .footer-section {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--space-4);\r\n      }\r\n\r\n      /* Slot styling con mayor especificidad */\r\n      slot[name=\"logo\"]::slotted(*) {\r\n        font-family: var(--font-mono, monospace);\r\n        font-size: var(--font-size-xl);\r\n        font-weight: 700;\r\n        color: var(--footer-text);\r\n        margin-bottom: var(--space-2);\r\n      }\r\n\r\n      /* Mejor soporte para enlaces slotados */\r\n      ::slotted(a) {\r\n        color: var(--footer-text-muted);\r\n        text-decoration: none;\r\n        transition: color var(--motion-fast);\r\n        font-size: var(--font-size-sm);\r\n        line-height: var(--line-height-normal);\r\n        outline: none;\r\n      }\r\n\r\n      ::slotted(a:hover),\r\n      ::slotted(a:focus) {\r\n        color: var(--footer-text);\r\n        text-decoration: underline;\r\n      }\r\n\r\n      ::slotted(a:focus-visible) {\r\n        outline: 2px solid var(--color-primary, #007bff);\r\n        outline-offset: 2px;\r\n        border-radius: 2px;\r\n      }\r\n\r\n      .footer-bottom {\r\n        padding-top: var(--space-6);\r\n        border-top: 1px solid var(--footer-border);\r\n        text-align: center;\r\n        font-size: var(--font-size-sm);\r\n        opacity: 0.75;\r\n        line-height: var(--line-height-normal);\r\n      }\r\n\r\n      :host([condensed]) .footer-bottom {\r\n        padding-top: var(--space-4);\r\n      }\r\n\r\n      /* Responsive */\r\n      @media (max-width: 768px) {\r\n        .footer-content {\r\n          grid-template-columns: 1fr;\r\n          gap: var(--space-6);\r\n        }\r\n\r\n        :host([condensed]) .footer-content {\r\n          gap: var(--space-4);\r\n        }\r\n      }\r\n\r\n      /* Screen reader only */\r\n      .sr-only {\r\n        position: absolute;\r\n        width: 1px;\r\n        height: 1px;\r\n        padding: 0;\r\n        margin: -1px;\r\n        overflow: hidden;\r\n        clip: rect(0, 0, 0, 0);\r\n        white-space: nowrap;\r\n        border: 0;\r\n      }\r\n    `;\r\n    return style;\r\n  }\r\n\r\n  _createTemplate() {\r\n    const template = document.createElement('template');\r\n    template.innerHTML = `\r\n      <footer part=\"footer\" role=\"contentinfo\" aria-label=\"Pie de página\">\r\n        <div class=\"container\" part=\"container\">\r\n          <div class=\"footer-content\" part=\"content\">\r\n            <div class=\"footer-section\" part=\"section\">\r\n              <slot name=\"logo\">\r\n                <span class=\"logo-placeholder\">Logo</span>\r\n              </slot>\r\n              <slot name=\"about\">\r\n                <p class=\"about-placeholder\">Información sobre la compañía</p>\r\n              </slot>\r\n            </div>\r\n            <div class=\"footer-section\" part=\"section\">\r\n              <h3 class=\"sr-only\">Enlaces rápidos</h3>\r\n              <slot name=\"links\"></slot>\r\n            </div>\r\n            <div class=\"footer-section\" part=\"section\">\r\n              <h3 class=\"sr-only\">Redes sociales</h3>\r\n              <slot name=\"social\"></slot>\r\n            </div>\r\n          </div>\r\n          <div class=\"footer-bottom\" part=\"bottom\">\r\n            <slot name=\"copyright\">\r\n              © ${this._currentYear} Todos los derechos reservados\r\n            </slot>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    `;\r\n    return template;\r\n  }\r\n\r\n  _setupEventListeners() {\r\n    // Observar cambios en slots\r\n    this.shadowRoot.addEventListener('slotchange', this._handleSlotChange);\r\n\r\n    // Capturar clicks en enlaces slotados\r\n    this._linkSlots.forEach(slot => {\r\n      slot.addEventListener('click', this._handleLinkClick);\r\n    });\r\n  }\r\n\r\n  _cleanupEventListeners() {\r\n    this.shadowRoot.removeEventListener('slotchange', this._handleSlotChange);\r\n    this._linkSlots.forEach(slot => {\r\n      slot.removeEventListener('click', this._handleLinkClick);\r\n    });\r\n  }\r\n\r\n  _handleSlotChange(event) {\r\n    const slot = event.target;\r\n    const nodes = slot.assignedNodes();\r\n\r\n    // Actualizar ARIA labels basado en contenido\r\n    if (slot.name === 'social' && nodes.length > 0) {\r\n      const socialLabel = `Redes sociales (${nodes.length} enlaces)`;\r\n      this.shadowRoot.querySelector('h3[class=\"sr-only\"]:last-of-type').textContent = socialLabel;\r\n    }\r\n  }\r\n\r\n  _handleLinkClick(event) {\r\n    const target = event.target;\r\n    if (target.tagName === 'A' && target.href) {\r\n      this.dispatchEvent(new CustomEvent('link-click', {\r\n        bubbles: true,\r\n        composed: true,\r\n        detail: {\r\n          href: target.href,\r\n          text: target.textContent,\r\n          slot: target.getAttribute('slot')\r\n        }\r\n      }));\r\n    }\r\n  }\r\n\r\n  _updateFromAttributes() {\r\n    this._variant = this.getAttribute('variant') || 'default';\r\n    this._isCondensed = this.hasAttribute('condensed');\r\n\r\n    this._updateVariant();\r\n    this._updateLayout();\r\n    this._updateCopyright();\r\n  }\r\n\r\n  _updateVariant() {\r\n    if (this._footer) {\r\n      this._footer.setAttribute('data-variant', this._variant);\r\n    }\r\n  }\r\n\r\n  _updateLayout() {\r\n    if (this._footer) {\r\n      this._footer.classList.toggle('condensed', this._isCondensed);\r\n    }\r\n  }\r\n\r\n  _updateCopyright() {\r\n    if (this._copyrightSlot) {\r\n      const year = this.getAttribute('year') || this._currentYear;\r\n      const defaultContent = `© ${year} Todos los derechos reservados`;\r\n\r\n      // Solo actualizar si está usando el contenido por defecto\r\n      const assignedNodes = this._copyrightSlot.assignedNodes();\r\n      if (assignedNodes.length === 0) {\r\n        this._copyrightSlot.innerHTML = defaultContent;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Método público para resetear\r\n  reset() {\r\n    this.removeAttribute('variant');\r\n    this.removeAttribute('condensed');\r\n    this.removeAttribute('year');\r\n    this._updateFromAttributes();\r\n  }\r\n}\r\n\r\n// Definición del componente\r\nif (!customElements.get('c-footer')) {\r\n  customElements.define('c-footer', CFooter);\r\n}","// --- Utilidad anti-XSS --- //\r\nfunction sanitizeAttr(value) {\r\n  if (!value) return \"\";\r\n  return value.replace(/[&<>\"']/g, (char) => {\r\n    const map = {\r\n      \"&\": \"&amp;\",\r\n      \"<\": \"&lt;\",\r\n      \">\": \"&gt;\",\r\n      '\"': \"&quot;\",\r\n      \"'\": \"&#39;\"\r\n    };\r\n    return map[char];\r\n  });\r\n}\r\n\r\n// --- Constantes y validaciones --- //\r\nconst VARIANTS = ['solid', 'transparent'];\r\nconst POSITIONS = ['static', 'sticky', 'fixed', 'floating'];\r\nconst THEMES = ['auto', 'light', 'dark'];\r\n\r\nexport class CHeader extends HTMLElement {\r\n  static get observedAttributes() {\r\n    return [\"logo\", \"href\", \"title\", \"variant\", \"position\", \"theme\"];\r\n  }\r\n\r\n  static get styles() {\r\n    return `\r\n      @import \"/src/styles/tokens.css\";\r\n\r\n      :host {\r\n        display: block;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n      }\r\n\r\n      /* POSITION */\r\n      :host([position=\"sticky\"]) {\r\n        position: sticky;\r\n        top: 0;\r\n        z-index: 1000;\r\n      }\r\n\r\n      :host([position=\"fixed\"]) {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        z-index: 1000;\r\n        background: var(--header-bg);\r\n      }\r\n\r\n      :host([position=\"floating\"]) {\r\n        position: fixed;\r\n        top: var(--space-4);\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: calc(100% - var(--space-8));\r\n        max-width: 1200px;\r\n        border-radius: var(--radius-xl);\r\n        box-shadow: var(--shadow-lg);\r\n        z-index: 1000;\r\n      }\r\n\r\n      /* THEMES */\r\n      :host([theme=\"dark\"]) header {\r\n        --header-bg: var(--color-bg-dark);\r\n        --header-text: var(--color-text-dark);\r\n      }\r\n\r\n      :host([theme=\"light\"]) header {\r\n        --header-bg: var(--color-bg);\r\n        --header-text: var(--color-text);\r\n      }\r\n\r\n      :host(:not([theme])) header {\r\n        --header-bg: var(--color-bg);\r\n        --header-text: var(--color-text);\r\n      }\r\n\r\n      @media (prefers-color-scheme: dark) {\r\n        :host(:not([theme])) header {\r\n          --header-bg: var(--color-bg-dark);\r\n          --header-text: var(--color-text-dark);\r\n        }\r\n      }\r\n\r\n      /* HEADER */\r\n      header {\r\n        padding: var(--space-4) var(--space-6);\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        background: var(--header-bg);\r\n        color: var(--header-text);\r\n        transition: background-color 0.3s ease, border-color 0.3s ease;\r\n      }\r\n\r\n      :host([variant=\"transparent\"]) header {\r\n        background: transparent;\r\n        backdrop-filter: blur(12px);\r\n        border-bottom: 1px solid transparent;\r\n      }\r\n\r\n      :host([variant=\"solid\"]) header {\r\n        border-bottom: 1px solid var(--color-border);\r\n      }\r\n\r\n      /* BRAND */\r\n      .brand {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: var(--space-3);\r\n        text-decoration: none;\r\n        color: inherit;\r\n        outline: none;\r\n      }\r\n\r\n      .brand:focus-visible {\r\n        outline: 2px solid var(--color-accent);\r\n        outline-offset: 2px;\r\n        border-radius: var(--radius-sm);\r\n      }\r\n\r\n      .brand img {\r\n        width: 32px;\r\n        height: 32px;\r\n        object-fit: contain;\r\n      }\r\n\r\n      .brand span {\r\n        font-family: var(--font-mono);\r\n        font-size: var(--font-size-lg);\r\n        font-weight: 600;\r\n      }\r\n\r\n      /* NAV */\r\n      nav, .actions {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: var(--space-5);\r\n      }\r\n\r\n      ::slotted([slot=\"nav\"] a),\r\n      ::slotted([slot=\"nav\"] button) {\r\n        color: var(--color-accent);\r\n        text-decoration: none;\r\n        font-size: var(--font-size-sm);\r\n        background: none;\r\n        border: none;\r\n        cursor: pointer;\r\n        font-family: inherit;\r\n      }\r\n\r\n      ::slotted([slot=\"nav\"] a:hover),\r\n      ::slotted([slot=\"nav\"] a:focus),\r\n      ::slotted([slot=\"nav\"] button:hover),\r\n      ::slotted([slot=\"nav\"] button:focus) {\r\n        text-decoration: underline;\r\n        outline: none;\r\n      }\r\n\r\n      /* BURGER BUTTON */\r\n      .burger {\r\n        display: none;\r\n        flex-direction: column;\r\n        gap: 4px;\r\n        cursor: pointer;\r\n        background: none;\r\n        border: none;\r\n        padding: var(--space-2);\r\n        border-radius: var(--radius-sm);\r\n        transition: background-color 0.2s;\r\n      }\r\n\r\n      .burger:hover {\r\n        background: var(--color-bg-subtle);\r\n      }\r\n\r\n      .burger:focus-visible {\r\n        outline: 2px solid var(--color-accent);\r\n        outline-offset: 2px;\r\n      }\r\n\r\n      .burger span {\r\n        width: 24px;\r\n        height: 3px;\r\n        background: currentColor;\r\n        border-radius: 2px;\r\n        transition: all 0.3s ease;\r\n      }\r\n\r\n      .burger.open span:nth-child(1) {\r\n        transform: rotate(45deg) translateY(7px);\r\n      }\r\n\r\n      .burger.open span:nth-child(2) {\r\n        opacity: 0;\r\n        transform: translateX(-10px);\r\n      }\r\n\r\n      .burger.open span:nth-child(3) {\r\n        transform: rotate(-45deg) translateY(-7px);\r\n      }\r\n\r\n      /* MOBILE NAV */\r\n      .mobile-nav {\r\n        display: none;\r\n        flex-direction: column;\r\n        padding: var(--space-4);\r\n        background: var(--header-bg);\r\n        border-top: 1px solid var(--color-border);\r\n      }\r\n\r\n      .mobile-nav.open {\r\n        display: flex;\r\n        animation: slideDown 0.3s ease;\r\n      }\r\n\r\n      @keyframes slideDown {\r\n        from {\r\n          opacity: 0;\r\n          transform: translateY(-10px);\r\n        }\r\n        to {\r\n          opacity: 1;\r\n          transform: translateY(0);\r\n        }\r\n      }\r\n\r\n      /* USER MENU */\r\n      .user-menu {\r\n        position: relative;\r\n      }\r\n\r\n      .avatar {\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n        width: 40px;\r\n        height: 40px;\r\n        border: 2px solid transparent;\r\n        transition: border-color 0.2s;\r\n      }\r\n\r\n      .avatar:hover,\r\n      .avatar:focus-visible {\r\n        border-color: var(--color-accent);\r\n        outline: none;\r\n      }\r\n\r\n      .user-dropdown {\r\n        position: absolute;\r\n        top: calc(100% + 8px);\r\n        right: 0;\r\n        background: var(--header-bg);\r\n        border: 1px solid var(--color-border);\r\n        box-shadow: var(--shadow-lg);\r\n        padding: var(--space-2);\r\n        border-radius: var(--radius-lg);\r\n        display: none;\r\n        flex-direction: column;\r\n        min-width: 200px;\r\n        z-index: 1001;\r\n        animation: fadeIn 0.2s ease;\r\n      }\r\n\r\n      .user-dropdown.open {\r\n        display: flex;\r\n      }\r\n\r\n      .user-dropdown ::slotted(*) {\r\n        padding: var(--space-3) var(--space-4);\r\n        cursor: pointer;\r\n        background: none;\r\n        border: none;\r\n        text-align: left;\r\n        color: inherit;\r\n        font-family: inherit;\r\n        font-size: var(--font-size-sm);\r\n        border-radius: var(--radius-sm);\r\n        transition: background-color 0.2s;\r\n      }\r\n\r\n      .user-dropdown ::slotted(*:hover),\r\n      .user-dropdown ::slotted(*:focus) {\r\n        background: var(--color-bg-subtle);\r\n        outline: none;\r\n      }\r\n\r\n      @keyframes fadeIn {\r\n        from {\r\n          opacity: 0;\r\n          transform: translateY(-8px);\r\n        }\r\n        to {\r\n          opacity: 1;\r\n          transform: translateY(0);\r\n        }\r\n      }\r\n\r\n      /* MEDIA QUERIES */\r\n      @media (max-width: 720px) {\r\n        nav { \r\n          display: none; \r\n        }\r\n        \r\n        .actions { \r\n          display: none; \r\n        }\r\n        \r\n        .burger { \r\n          display: flex; \r\n        }\r\n      }\r\n\r\n      /* FOCUS VISIBLE FOR ALL INTERACTIVE ELEMENTS */\r\n      :focus-visible {\r\n        outline: 2px solid var(--color-accent);\r\n        outline-offset: 2px;\r\n        border-radius: var(--radius-sm);\r\n      }\r\n\r\n      /* SKIP TO CONTENT */\r\n      .skip-to-content {\r\n        position: absolute;\r\n        top: -40px;\r\n        left: var(--space-4);\r\n        background: var(--color-accent);\r\n        color: white;\r\n        padding: var(--space-3) var(--space-4);\r\n        border-radius: var(--radius-sm);\r\n        text-decoration: none;\r\n        z-index: 1002;\r\n        transition: top 0.3s;\r\n      }\r\n\r\n      .skip-to-content:focus {\r\n        top: var(--space-4);\r\n      }\r\n    `;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: \"open\" });\r\n    this._isMobileMenuOpen = false;\r\n    this._isUserMenuOpen = false;\r\n\r\n    // Bind handlers\r\n    this.handleMenuToggle = this.handleMenuToggle.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.handleAvatarToggle = this.handleAvatarToggle.bind(this);\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.handleThemeChange = this.handleThemeChange.bind(this);\r\n  }\r\n\r\n  // --- PROPERTIES GETTERS/SETTERS --- //\r\n  get logo() { return this.getAttribute('logo'); }\r\n  set logo(value) {\r\n    if (value) {\r\n      this.setAttribute('logo', value);\r\n    } else {\r\n      this.removeAttribute('logo');\r\n    }\r\n  }\r\n\r\n  get href() { return this.getAttribute('href') || '/'; }\r\n  set href(value) { this.setAttribute('href', value || '/'); }\r\n\r\n  get title() { return this.getAttribute('title') || ''; }\r\n  set title(value) {\r\n    if (value) {\r\n      this.setAttribute('title', value);\r\n    } else {\r\n      this.removeAttribute('title');\r\n    }\r\n  }\r\n\r\n  get variant() {\r\n    const variant = this.getAttribute('variant') || 'solid';\r\n    return VARIANTS.includes(variant) ? variant : 'solid';\r\n  }\r\n  set variant(value) {\r\n    if (VARIANTS.includes(value)) {\r\n      this.setAttribute('variant', value);\r\n    } else {\r\n      console.warn(`CHeader: Variant \"${value}\" is not valid. Allowed: ${VARIANTS.join(', ')}`);\r\n    }\r\n  }\r\n\r\n  get position() {\r\n    const position = this.getAttribute('position') || 'static';\r\n    return POSITIONS.includes(position) ? position : 'static';\r\n  }\r\n  set position(value) {\r\n    if (POSITIONS.includes(value)) {\r\n      this.setAttribute('position', value);\r\n    } else {\r\n      console.warn(`CHeader: Position \"${value}\" is not valid. Allowed: ${POSITIONS.join(', ')}`);\r\n    }\r\n  }\r\n\r\n  get theme() {\r\n    const theme = this.getAttribute('theme') || 'auto';\r\n    return THEMES.includes(theme) ? theme : 'auto';\r\n  }\r\n  set theme(value) {\r\n    if (THEMES.includes(value)) {\r\n      this.setAttribute('theme', value);\r\n    } else {\r\n      console.warn(`CHeader: Theme \"${value}\" is not valid. Allowed: ${THEMES.join(', ')}`);\r\n    }\r\n  }\r\n\r\n  get isMobileMenuOpen() { return this._isMobileMenuOpen; }\r\n  get isUserMenuOpen() { return this._isUserMenuOpen; }\r\n\r\n  // --- LIFECYCLE --- //\r\n  connectedCallback() {\r\n    this.render();\r\n    this.setupEventListeners();\r\n    this.observeThemeChanges();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.removeEventListeners();\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (oldValue !== newValue) {\r\n      if (name === 'variant' && !VARIANTS.includes(newValue)) {\r\n        console.warn(`CHeader: Invalid variant \"${newValue}\". Defaulting to \"solid\".`);\r\n        this.setAttribute('variant', 'solid');\r\n      }\r\n      if (name === 'position' && !POSITIONS.includes(newValue)) {\r\n        console.warn(`CHeader: Invalid position \"${newValue}\". Defaulting to \"static\".`);\r\n        this.setAttribute('position', 'static');\r\n      }\r\n      if (name === 'theme' && !THEMES.includes(newValue)) {\r\n        console.warn(`CHeader: Invalid theme \"${newValue}\". Defaulting to \"auto\".`);\r\n        this.setAttribute('theme', 'auto');\r\n      }\r\n      this.updateAttribute(name, newValue);\r\n    }\r\n  }\r\n\r\n  // --- EVENT HANDLERS --- //\r\n  handleMenuToggle() {\r\n    this._isMobileMenuOpen = !this._isMobileMenuOpen;\r\n    const nav = this.shadowRoot.querySelector(\".mobile-nav\");\r\n    const btn = this.shadowRoot.querySelector(\".burger\");\r\n\r\n    if (nav) {\r\n      nav.classList.toggle(\"open\");\r\n      nav.setAttribute('aria-hidden', !this._isMobileMenuOpen);\r\n    }\r\n\r\n    if (btn) {\r\n      btn.classList.toggle(\"open\");\r\n      btn.setAttribute('aria-expanded', this._isMobileMenuOpen);\r\n    }\r\n\r\n    this.dispatchEvent(new CustomEvent('menu-toggle', {\r\n      detail: { open: this._isMobileMenuOpen },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n  }\r\n\r\n  handleAvatarToggle(e) {\r\n    e.stopPropagation();\r\n    this._isUserMenuOpen = !this._isUserMenuOpen;\r\n    const menu = this.shadowRoot.querySelector(\".user-dropdown\");\r\n    const avatar = this.shadowRoot.querySelector(\".avatar\");\r\n\r\n    if (menu) {\r\n      menu.classList.toggle(\"open\");\r\n      menu.setAttribute('aria-hidden', !this._isUserMenuOpen);\r\n    }\r\n\r\n    if (avatar) {\r\n      avatar.setAttribute('aria-expanded', this._isUserMenuOpen);\r\n    }\r\n  }\r\n\r\n  handleClickOutside(e) {\r\n    if (!this.contains(e.target)) {\r\n      this.closeAllMenus();\r\n    }\r\n  }\r\n\r\n  handleKeyDown(e) {\r\n    // Close menus on Escape\r\n    if (e.key === 'Escape') {\r\n      this.closeAllMenus();\r\n    }\r\n\r\n    // Trap focus in mobile menu when open\r\n    if (e.key === 'Tab' && this._isMobileMenuOpen) {\r\n      this.trapFocus(e);\r\n    }\r\n  }\r\n\r\n  handleThemeChange(e) {\r\n    if (this.theme === 'auto') {\r\n      this.updateTheme();\r\n    }\r\n  }\r\n\r\n  // --- HELPER METHODS --- //\r\n  closeAllMenus() {\r\n    this._isMobileMenuOpen = false;\r\n    this._isUserMenuOpen = false;\r\n\r\n    const mobileNav = this.shadowRoot.querySelector(\".mobile-nav\");\r\n    const burger = this.shadowRoot.querySelector(\".burger\");\r\n    const userMenu = this.shadowRoot.querySelector(\".user-dropdown\");\r\n    const avatar = this.shadowRoot.querySelector(\".avatar\");\r\n\r\n    if (mobileNav) mobileNav.classList.remove(\"open\");\r\n    if (burger) {\r\n      burger.classList.remove(\"open\");\r\n      burger.setAttribute('aria-expanded', 'false');\r\n    }\r\n    if (userMenu) {\r\n      userMenu.classList.remove(\"open\");\r\n      userMenu.setAttribute('aria-hidden', 'true');\r\n    }\r\n    if (avatar) avatar.setAttribute('aria-expanded', 'false');\r\n  }\r\n\r\n  trapFocus(e) {\r\n    const mobileNav = this.shadowRoot.querySelector(\".mobile-nav\");\r\n    if (!mobileNav || !mobileNav.classList.contains('open')) return;\r\n\r\n    const focusableElements = mobileNav.querySelectorAll(\r\n      'a[href], button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n\r\n    if (focusableElements.length === 0) return;\r\n\r\n    const firstElement = focusableElements[0];\r\n    const lastElement = focusableElements[focusableElements.length - 1];\r\n\r\n    if (e.shiftKey && document.activeElement === firstElement) {\r\n      lastElement.focus();\r\n      e.preventDefault();\r\n    } else if (!e.shiftKey && document.activeElement === lastElement) {\r\n      firstElement.focus();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  updateAttribute(name, value) {\r\n    // Optimización: actualizar solo lo necesario\r\n    if (['logo', 'href', 'title'].includes(name)) {\r\n      this.updateBrand();\r\n    } else if (['variant', 'position', 'theme'].includes(name)) {\r\n      this.updateStyles();\r\n    }\r\n  }\r\n\r\n  updateBrand() {\r\n    const logo = sanitizeAttr(this.getAttribute(\"logo\") || \"\");\r\n    const href = sanitizeAttr(this.getAttribute(\"href\") || \"/\");\r\n    const title = sanitizeAttr(this.getAttribute(\"title\") || \"\");\r\n    const brand = this.shadowRoot.querySelector(\".brand\");\r\n\r\n    if (brand) {\r\n      brand.href = href;\r\n      brand.innerHTML = `\r\n        ${logo ? `<img src=\"${logo}\" alt=\"${title}\" loading=\"lazy\">` : \"\"}\r\n        ${title ? `<span>${title}</span>` : \"\"}\r\n        <slot name=\"brand\"></slot>\r\n      `;\r\n    }\r\n  }\r\n\r\n  updateStyles() {\r\n    // Actualizar estilos CSS personalizados\r\n    const styleElement = this.shadowRoot.querySelector('style');\r\n    if (styleElement) {\r\n      styleElement.textContent = this.constructor.styles;\r\n    }\r\n  }\r\n\r\n  updateTheme() {\r\n    // Forzar actualización de estilos basados en tema\r\n    this.updateStyles();\r\n  }\r\n\r\n  observeThemeChanges() {\r\n    if (this.theme === 'auto') {\r\n      this.mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n      this.mediaQuery.addEventListener('change', this.handleThemeChange);\r\n    }\r\n  }\r\n\r\n  setupEventListeners() {\r\n    document.addEventListener(\"click\", this.handleClickOutside);\r\n    document.addEventListener(\"keydown\", this.handleKeyDown);\r\n\r\n    const burger = this.shadowRoot.querySelector(\".burger\");\r\n    if (burger) {\r\n      burger.addEventListener(\"click\", this.handleMenuToggle);\r\n      burger.setAttribute('aria-label', 'Toggle navigation menu');\r\n      burger.setAttribute('aria-expanded', 'false');\r\n      burger.setAttribute('aria-controls', 'mobile-nav');\r\n    }\r\n\r\n    const avatar = this.shadowRoot.querySelector(\".avatar\");\r\n    if (avatar) {\r\n      avatar.addEventListener(\"click\", this.handleAvatarToggle);\r\n      avatar.setAttribute('role', 'button');\r\n      avatar.setAttribute('aria-label', 'User menu');\r\n      avatar.setAttribute('aria-expanded', 'false');\r\n      avatar.setAttribute('aria-haspopup', 'true');\r\n      avatar.setAttribute('tabindex', '0');\r\n\r\n      // Permitir abrir con Enter/Space\r\n      avatar.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault();\r\n          this.handleAvatarToggle(e);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Configurar accesibilidad para menús\r\n    const mobileNav = this.shadowRoot.querySelector(\".mobile-nav\");\r\n    const userDropdown = this.shadowRoot.querySelector(\".user-dropdown\");\r\n\r\n    if (mobileNav) {\r\n      mobileNav.id = 'mobile-nav';\r\n      mobileNav.setAttribute('role', 'navigation');\r\n      mobileNav.setAttribute('aria-label', 'Mobile navigation');\r\n      mobileNav.setAttribute('aria-hidden', 'true');\r\n    }\r\n\r\n    if (userDropdown) {\r\n      userDropdown.setAttribute('role', 'menu');\r\n      userDropdown.setAttribute('aria-label', 'User options');\r\n      userDropdown.setAttribute('aria-hidden', 'true');\r\n    }\r\n  }\r\n\r\n  removeEventListeners() {\r\n    document.removeEventListener(\"click\", this.handleClickOutside);\r\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\r\n\r\n    if (this.mediaQuery) {\r\n      this.mediaQuery.removeEventListener('change', this.handleThemeChange);\r\n    }\r\n  }\r\n\r\n  // --- RENDER --- //\r\n  render() {\r\n    const logo = sanitizeAttr(this.getAttribute(\"logo\") || \"\");\r\n    const href = sanitizeAttr(this.getAttribute(\"href\") || \"/\");\r\n    const title = sanitizeAttr(this.getAttribute(\"title\") || \"\");\r\n\r\n    this.shadowRoot.innerHTML = `\r\n      <style>${this.constructor.styles}</style>\r\n      \r\n      <!-- Skip to content for accessibility -->\r\n      <a href=\"#main-content\" class=\"skip-to-content\">\r\n        Skip to main content\r\n      </a>\r\n\r\n      <header part=\"header\">\r\n        <!-- BRAND -->\r\n        <a class=\"brand\" href=\"${href}\" part=\"brand\">\r\n          ${logo ? `<img src=\"${logo}\" alt=\"${title}\" loading=\"lazy\">` : \"\"}\r\n          ${title ? `<span part=\"title\">${title}</span>` : \"\"}\r\n          <slot name=\"brand\"></slot>\r\n        </a>\r\n\r\n        <!-- DESKTOP NAV -->\r\n        <nav role=\"navigation\" aria-label=\"Main navigation\" part=\"nav\">\r\n          <slot name=\"nav\"></slot>\r\n        </nav>\r\n\r\n        <!-- ACTIONS -->\r\n        <div class=\"actions\" part=\"actions\">\r\n          <slot name=\"actions\"></slot>\r\n\r\n          <div class=\"user-menu\" part=\"user-menu\">\r\n            <div class=\"avatar\" part=\"avatar\">\r\n              <slot name=\"avatar\"></slot>\r\n            </div>\r\n            <div class=\"user-dropdown\" part=\"user-dropdown\">\r\n              <slot name=\"user-menu\"></slot>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- BURGER BUTTON -->\r\n        <button class=\"burger\" part=\"burger\">\r\n          <span></span><span></span><span></span>\r\n        </button>\r\n      </header>\r\n\r\n      <!-- MOBILE NAV -->\r\n      <div class=\"mobile-nav\" id=\"mobile-nav\" part=\"mobile-nav\">\r\n        <slot name=\"nav\"></slot>\r\n        <slot name=\"actions\"></slot>\r\n      </div>\r\n    `;\r\n\r\n    // Configurar eventos y accesibilidad\r\n    this.setupEventListeners();\r\n  }\r\n}\r\n\r\n// Registrar componente\r\nif (!customElements.get(\"c-header\")) {\r\n  customElements.define(\"c-header\", CHeader);\r\n}\r\n\r\n// Exportar para uso modular\r\nexport default CHeader;","// 1. Definimos los estilos fuera para aprovechar Constructable Stylesheets (Rendimiento y Caché)\r\nconst sheet = new CSSStyleSheet();\r\nsheet.replaceSync(`\r\n  :host {\r\n    display: block;\r\n    font-family: var(--font-sans, system-ui, -apple-system, sans-serif);\r\n    contain: content; /* Optimización de renderizado */\r\n  }\r\n\r\n  section {\r\n    padding: var(--space-7, 4rem) var(--space-5, 1.5rem);\r\n    background: linear-gradient(\r\n      135deg,\r\n      var(--hero-bg-start, var(--color-accent, #E53935)) 0%,\r\n      var(--hero-bg-end, var(--color-accent-dark, #B71C1C)) 100%\r\n    );\r\n    color: var(--color-text, #fff);\r\n    min-height: 500px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: background 0.3s ease;\r\n  }\r\n\r\n  .container {\r\n    max-width: 1200px;\r\n    width: 100%;\r\n    margin-inline: auto; /* Lógica moderna de propiedades lógicas */\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: var(--space-6, 2rem);\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  /* LAYOUT: Centered (Default) */\r\n  .content:not(.is-split) {\r\n    text-align: center;\r\n  }\r\n\r\n  /* LAYOUT: Split */\r\n  .content.is-split {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    gap: var(--space-7, 3rem);\r\n    align-items: center;\r\n    text-align: left;\r\n  }\r\n\r\n  /* Responsive para layout split */\r\n  @media (max-width: 768px) {\r\n    .content.is-split {\r\n      grid-template-columns: 1fr;\r\n      gap: var(--space-5, 1.5rem);\r\n      text-align: center; /* Fallback elegante en móvil */\r\n    }\r\n    \r\n    /* En móvil, cambiamos el orden visual si es necesario */\r\n    .content.is-split .media-wrapper {\r\n        order: -1; \r\n    }\r\n  }\r\n\r\n  .text-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: var(--space-4, 1.5rem);\r\n  }\r\n  \r\n  /* Alineación de botones según layout */\r\n  .cta-wrapper {\r\n    display: flex;\r\n    gap: 1rem;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .content:not(.is-split) .cta-wrapper {\r\n    justify-content: center;\r\n  }\r\n\r\n  .media-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    /* Si no es split, ocultamos el media wrapper visualmente pero lo mantenemos en el DOM */\r\n    /* Opcional: display: none si queremos removerlo del flujo completamente */\r\n  }\r\n  \r\n  .content:not(.is-split) .media-wrapper {\r\n    display: none; \r\n  }\r\n\r\n  /* Styling de Slots por defecto (Opcional, con menor especificidad) */\r\n  ::slotted([slot=\"title\"]) {\r\n    margin: 0;\r\n    font-size: var(--fs-4xl, 2.5rem);\r\n    line-height: 1.1;\r\n    font-weight: 800;\r\n  }\r\n  \r\n  ::slotted([slot=\"media\"]) {\r\n    max-width: 100%;\r\n    height: auto;\r\n    border-radius: var(--radius-lg, 12px);\r\n    box-shadow: var(--shadow-lg, 0 10px 25px -5px rgba(0, 0, 0, 0.3));\r\n  }\r\n`);\r\n\r\n// 2. Definimos el template HTML estático una sola vez\r\nconst template = document.createElement('template');\r\ntemplate.innerHTML = `\r\n  <section part=\"base\">\r\n    <div class=\"container\">\r\n      <div class=\"content\" id=\"layout-target\">\r\n        \r\n        <div class=\"text-wrapper\">\r\n          <slot name=\"title\"></slot>\r\n          <slot name=\"subtitle\"></slot>\r\n          <slot name=\"description\"></slot>\r\n          <div class=\"cta-wrapper\">\r\n            <slot name=\"cta\"></slot>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"media-wrapper\">\r\n          <slot name=\"media\"></slot>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </section>\r\n`;\r\n\r\nexport class CHero extends HTMLElement {\r\n  static get observedAttributes() {\r\n    return [\"layout\"];\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: \"open\" });\r\n    // Adoptar estilos compartidos (Rendimiento +++)\r\n    this.shadowRoot.adoptedStyleSheets = [sheet];\r\n  }\r\n\r\n  connectedCallback() {\r\n    // Clonar template y añadir al Shadow DOM (Solo una vez)\r\n    if (!this.shadowRoot.hasChildNodes()) {\r\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n    }\r\n\r\n    // Inicializar estado basado en atributos presentes\r\n    this._updateLayout();\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (oldValue === newValue) return;\r\n    if (name === \"layout\") {\r\n      this._updateLayout();\r\n    }\r\n  }\r\n\r\n  // 3. Sincronización de Propiedades (DX +++)\r\n  get layout() {\r\n    return this.getAttribute(\"layout\") || \"centered\";\r\n  }\r\n\r\n  set layout(value) {\r\n    if (value) {\r\n      this.setAttribute(\"layout\", value);\r\n    } else {\r\n      this.removeAttribute(\"layout\");\r\n    }\r\n  }\r\n\r\n  // 4. Lógica de UI separada y no destructiva\r\n  _updateLayout() {\r\n    const layoutTarget = this.shadowRoot.getElementById('layout-target');\r\n    if (!layoutTarget) return;\r\n\r\n    const currentLayout = this.layout;\r\n    const isValid = [\"centered\", \"split\"].includes(currentLayout);\r\n    const finalLayout = isValid ? currentLayout : \"centered\";\r\n\r\n    // Manipulación de clases mediante ClassList (Rápido y limpio)\r\n    if (finalLayout === 'split') {\r\n      layoutTarget.classList.add('is-split');\r\n    } else {\r\n      layoutTarget.classList.remove('is-split');\r\n    }\r\n  }\r\n}\r\n\r\ncustomElements.define(\"c-hero\", CHero);","/**\r\n * Definición de estilos compartidos (Constructable Stylesheet).\r\n * Se parsean una sola vez por el navegador, no por instancia.\r\n */\r\nconst sheet = new CSSStyleSheet();\r\nsheet.replaceSync(`\r\n  :host {\r\n    display: block;\r\n    font-family: var(--font-sans, system-ui, sans-serif);\r\n    color: var(--color-text, #333);\r\n    /* Valores por defecto */\r\n    --_bg: var(--color-bg, #fff);\r\n    --_padding: var(--space-7, 3rem) var(--space-5, 1.5rem);\r\n    --_text-color: var(--color-text, #333);\r\n  }\r\n\r\n  /* --- VARIANTES (Manejadas vía selectores de atributo) --- */\r\n  \r\n  :host([variant=\"primary\"]) {\r\n    --_bg: var(--color-surface, #f5f5f5);\r\n  }\r\n\r\n  :host([variant=\"secondary\"]) {\r\n    --_bg: var(--color-surface-alt, #e0e0e0);\r\n  }\r\n\r\n  :host([variant=\"accent\"]) {\r\n    --_bg: var(--color-accent, #007bff);\r\n    --_text-color: var(--color-text-inverse, #fff);\r\n  }\r\n\r\n  /* --- PADDINGS --- */\r\n\r\n  :host([padding=\"none\"]) {\r\n    --_padding: 0;\r\n  }\r\n\r\n  :host([padding=\"small\"]) {\r\n    --_padding: var(--space-5, 1.5rem) var(--space-4, 1rem);\r\n  }\r\n\r\n  :host([padding=\"large\"]) {\r\n    --_padding: var(--space-9, 5rem) var(--space-6, 2rem);\r\n  }\r\n\r\n  /* --- ESTRUCTURA --- */\r\n\r\n  section {\r\n    background: var(--_bg);\r\n    padding: var(--_padding);\r\n    color: var(--_text-color);\r\n    transition: background 0.3s ease, color 0.3s ease, padding 0.3s ease;\r\n  }\r\n\r\n  .container {\r\n    max-width: 1200px;\r\n    margin-inline: auto;\r\n    width: 100%;\r\n  }\r\n\r\n  header {\r\n    text-align: center;\r\n    margin-bottom: var(--space-7, 3rem);\r\n  }\r\n\r\n  /* Ocultar header si no hay título ni subtítulo (opcional, vía JS o CSS :has si soporte permite) */\r\n  header:empty {\r\n    display: none;\r\n  }\r\n\r\n  /* Styling de Slots */\r\n  ::slotted([slot=\"title\"]) {\r\n    font-family: var(--font-mono, monospace);\r\n    font-size: var(--font-size-2xl, 2rem);\r\n    line-height: 1.2;\r\n    margin: 0 0 var(--space-3, 1rem) 0;\r\n    color: inherit;\r\n  }\r\n\r\n  ::slotted([slot=\"subtitle\"]) {\r\n    font-size: var(--font-size-lg, 1.25rem);\r\n    opacity: 0.85;\r\n    margin: 0;\r\n    color: inherit;\r\n  }\r\n\r\n  .content {\r\n    font-size: var(--font-size-md, 1rem);\r\n    line-height: 1.6;\r\n  }\r\n`);\r\n\r\n/**\r\n * Plantilla HTML estática.\r\n */\r\nconst template = document.createElement('template');\r\ntemplate.innerHTML = `\r\n  <section part=\"section\">\r\n    <div class=\"container\">\r\n      <header part=\"header\">\r\n        <slot name=\"title\"></slot>\r\n        <slot name=\"subtitle\"></slot>\r\n      </header>\r\n      <div class=\"content\" part=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n  </section>\r\n`;\r\n\r\nexport class CSection extends HTMLElement {\r\n  static get observedAttributes() {\r\n    return ['variant', 'padding'];\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n    this.shadowRoot.adoptedStyleSheets = [sheet];\r\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\r\n  }\r\n\r\n  // --- API PÚBLICA (Reflejo de Propiedades) ---\r\n\r\n  get variant() {\r\n    return this.getAttribute('variant') || 'default';\r\n  }\r\n\r\n  set variant(value) {\r\n    if (value) {\r\n      this.setAttribute('variant', value);\r\n    } else {\r\n      this.removeAttribute('variant');\r\n    }\r\n  }\r\n\r\n  get padding() {\r\n    return this.getAttribute('padding') || 'normal';\r\n  }\r\n\r\n  set padding(value) {\r\n    if (value) {\r\n      this.setAttribute('padding', value);\r\n    } else {\r\n      this.removeAttribute('padding');\r\n    }\r\n  }\r\n\r\n  // --- CICLO DE VIDA ---\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    // Gracias a los selectores :host([attr=\"val\"]) en CSS,\r\n    // NO necesitamos renderizar nada aquí. El navegador actualiza\r\n    // el estilo automáticamente cuando cambia el atributo.\r\n    // Esto es \"Zero-Cost Update\".\r\n  }\r\n}\r\n\r\ncustomElements.define('c-section', CSection);"],"names":["sheet","CSSStyleSheet","replaceSync","template","document","createElement","innerHTML","CContactForm","_inherits","_wrapNativeSuper","HTMLElement","_super","_createSuper","_this","_classCallCheck","call","attachShadow","mode","shadowRoot","adoptedStyleSheets","appendChild","content","cloneNode","_form","getElementById","_handleSubmit","bind","_assertThisInitialized","key","value","this","addEventListener","removeEventListener","get","getAttribute","set","val","setAttribute","removeAttribute","data","querySelectorAll","forEach","input","name","disabled","type","checked","e","_this2","preventDefault","state","inputs","isValid","checkValidity","reportValidity","dispatchEvent","CustomEvent","detail","success","setTimeout","reset","error","msg","errDiv","querySelector","textContent","bubbles","composed","customElements","define","CFooter","delegatesFocus","_styles","_createStyles","_template","_createTemplate","_isCondensed","_variant","_currentYear","Date","getFullYear","_handleSlotChange","_handleLinkClick","_footer","_copyrightSlot","_linkSlots","_setupEventListeners","_updateFromAttributes","component","_cleanupEventListeners","oldValue","newValue","_updateVariant","_updateLayout","_updateCopyright","toString","style","concat","slot","_this3","event","target","nodes","assignedNodes","length","socialLabel","tagName","href","text","hasAttribute","classList","toggle","year","defaultContent","sanitizeAttr","replace","char","VARIANTS","POSITIONS","THEMES","CHeader","_isMobileMenuOpen","_isUserMenuOpen","handleMenuToggle","handleClickOutside","handleAvatarToggle","handleKeyDown","handleThemeChange","variant","includes","console","warn","join","position","theme","render","setupEventListeners","observeThemeChanges","removeEventListeners","updateAttribute","nav","btn","open","stopPropagation","menu","avatar","contains","closeAllMenus","trapFocus","updateTheme","mobileNav","burger","userMenu","remove","focusableElements","firstElement","lastElement","shiftKey","activeElement","focus","updateBrand","updateStyles","logo","title","brand","styleElement","constructor","styles","mediaQuery","window","matchMedia","userDropdown","id","CHero","hasChildNodes","layoutTarget","currentLayout","layout","add","CSection"],"sourceRoot":""}